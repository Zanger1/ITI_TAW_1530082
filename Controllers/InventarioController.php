<?php //Para las unidades de rentaclass InventarioController {	function __construct(){	}	function index(){		$listaInvetario=InventarioModel::all();		require_once('Views/inventario/Rentas/index.php');	}	function all_json(){		$output = InventarioModel::all_json();		echo $output;	}	function register(){		require_once('Views/inventario/Rentas/register.php');	}	function save(){#			require_once('storage/FileUploader.php');	//Requiere este metodo para obtener la ruta de img			require_once('themes/lte/assets/plugins/uploader/FileUploader.php');	//Requiere este metodo para obtener la ruta de img			//$_POST['foto']=$target_path;			#if(isset($_POST["file"])){ $_POST['foto']=$target_path;}		$id_sucursal = '';		if(isset($_SESSION["id_role"]) && $_SESSION["id_role"] !== '1'){	//NO ES EL ADMIN GENERAL			$id_sucursal = $_SESSION["id_sucursal"];	//EL form se les deshabilita y no envia el POST, entonces recurrir a su SESSION		} else {			if(isset($_POST["IdSucursal"])){				$id_sucursal = $_POST["IdSucursal"];	//El admin general si puede decidir que Id de Sucursal mandar en un Request tipo $_POST							}		}				$inventario= new InventarioModel(null,$_POST['Precio'],$_POST['Descripcion'],$_POST['Incluye'],$_POST['cantidad'],$_POST['IdUnidadRenta'],$id_sucursal,$_POST['IdTipoUnidades'],'themes/lte/assets/dist/img/no-photo.jpg');		InventarioModel::save($inventario);		#$this->show();	}	function show(){		$listaInvetario=InventarioModel::all();		require_once('Views/inventario/Rentas/index.php');	}	function updateshow(){		$id=$_GET['id'];		$inventario=InventarioModel::searchById($id);		require_once('Views/inventario/Rentas/modal.php');	}	function test_modal(){		$id=$_GET['id'];		$inventario=InventarioModel::searchById($id);		require_once('Views/inventario/Rentas/modal/ver.php');	}	function track(){		$id=$_GET['id'];		$inventario=InventarioModel::track($id);		require_once('Views/inventario/Rentas/track.php');	}	function update(){		require_once('themes/lte/assets/plugins/uploader/FileUploader.php');	//Requiere este metodo para obtener la ruta de img			#		if(!file_exists($target_path)){ $_POST["foto"]="Storage/Uploads/user-default.jpg"; /* evitar que se genere una falsa imagen aleatoria */ }	else {	$_POST['foto']=$target_path; /* si se eligio imagen */  }			#		$_POST["foto"]="storage/uploads/".date("Y")."/".date("m")."/".$nueva_ruta_completa;		$id_sucursal = '';		if(empty($_POST["IdSucursal"]) && isset($_SESSION["id_role"]) && $_SESSION["id_role"] == '2' || $_SESSION["id_role"] == '3'){	//NO ES EL ADMIN GENERAL			$id_sucursal = $_SESSION["id_sucursal"];	//EL form se les deshabilita y no envia el POST, entonces recurrir a su SESSION		} else {			if(isset($_POST["IdSucursal"]) && isset($_SESSION["id_role"]) && $_SESSION["id_role"]=='1' ){				$id_sucursal = $_POST["IdSucursal"];	//El admin general si puede decidir que Id de Sucursal mandar en un Request tipo $_POST			}		}		$inventario = new InventarioModel($_POST['IdInventarioUnidadesRenta'],$_POST['Precio'],$_POST['Descripcion'],$_POST['Incluye'],$_POST['cantidad'],$_POST['IdUnidadRenta'],$id_sucursal,$_POST['IdTipoUnidades'],'themes/lte/assets/dist/img/no-photo.jpg');	//$_POST['foto']		InventarioModel::update($inventario);		#$this->show();	}	function delete(){		$id=$_GET['id'];		InventarioModel::delete($id);		#$this->show();	}	/*function search(){		if (!empty($_POST['id'])) {			$id=$_POST['id'];			$inventario=InventarioModel::searchById($id);			$listaInvetario[]=$inventario;			//var_dump($id);			//die();			require_once('Views/Alumno/show.php');		} else {			$listaInvetario=InventarioModel::all();			require_once('Views/inventario/show.php');		}	}*//*	function error(){		require_once('Views/inventario/error.php');	} */}?>